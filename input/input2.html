<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, viewport-fit=cover">
</head>
<body>
<div id="div1" role="textbox">
    <input id="input1" type="text" value="hello" onfocus="input_focus()">
</div>
<input type="checkbox" id="cbox" value="cbox" checked="true">
<label for="cbox">1s auto blur</label>
<br>
<div id="div2">12345678901234567890</div>
<br>
<div id="info"></div>
<br>
<div id="user_agent"></div>
</body>
<script>
    var myInterval = setInterval(function ()
    {
        var log = ""
        if (window.getSelection().focusNode) {
          log += "window.getSelection().focusNode tagName:" + window.getSelection().focusNode.tagName + ", id:" + (typeof (window.getSelection().focusNode.getAttribute) != "undefined" ? window.getSelection().focusNode.getAttribute("id") : "undefined")
        } else {
          log += "window.getSelection().focusNode tagName:null"
        }
        log += "\n"
        if (document.activeElement) {
          log += "document.activeElement tagName:" + document.activeElement.tagName + ", id:" +document.activeElement.getAttribute("id")
        } else {
          log += "document.activeElement:null"
        }
        document.getElementById("info").innerText = log
    }, 100);
    document.getElementById("user_agent").innerText = navigator.userAgent

    function input_blur() {
		document.getElementById("input1").blur()
		document.getElementById("cbox").checked = false
	}

	function input_focus() {
		if (document.getElementById("cbox").checked) {
			setTimeout(input_blur,1000)
		}
	}
</script>
</html>