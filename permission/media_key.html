<html>
<body>
<p>Test</p>

<script>
var config;
// for widevine
config = [{
  "initDataTypes": ["cenc"],
  "sessionTypes": ["temporary"],
  "audioCapabilities": [{
    "contentType": "audio/mp4;codecs=\"mp4a.40.2\"",
    "robustness": "SW_SECURE_CRYPTO"
  }],
  "videoCapabilities": [{
    "contentType": "video/mp4;codecs=\"avc1.42E01E\"",
    "robustness": "SW_SECURE_CRYPTO"
  }]
}];

// for clearkey
// config = [{
//   "initDataTypes": ["cenc"],
//   "audioCapabilities": [{
//     "contentType": "audio/mp4;codecs=\"mp4a.40.2\""
//   }],
//   "videoCapabilities": [{
//     "contentType": "video/mp4;codecs=\"avc1.42E01E\""
//   }]
// }];

try {
  navigator.
  requestMediaKeySystemAccess("com.widevine.alpha", config).
  then(function(mediaKeySystemAccess) {
    console.log('widevine support ok', mediaKeySystemAccess);
  }).catch(function(e) {
    console.log('no widevine support, rejected');
    console.log(e);
  });
} catch (e) {
  console.log('no widevine support caught exception');
  console.log(e);
}

// try {
//   navigator.
//   requestMediaKeySystemAccess("org.w3.clearkey",config).
//   then(function(mediaKeySystemAccess) {
//     console.log('clearkey support ok', mediaKeySystemAccess);
//   }).catch(function(e) {
//     console.log('no clearkey support');
//     console.log(e);
//   });
// } catch (e) {
//   console.log('no clearkey support');
//   console.log(e);
// }

//////////

</script>
</body>
</html>