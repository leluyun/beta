<html>
<body>
<p id="p" style="font-size: 50px;padding: 100px;">Test</p>

<script>
var config;
// for widevine
config = [{
  "initDataTypes": ["cenc"],
  "sessionTypes": ["temporary"],
  "audioCapabilities": [{
    "contentType": "audio/mp4;codecs=\"mp4a.40.2\"",
    "robustness": "SW_SECURE_CRYPTO"
  }],
  "videoCapabilities": [{
    "contentType": "video/mp4;codecs=\"avc1.42E01E\"",
    "robustness": "SW_SECURE_CRYPTO"
  }]
}];

// for clearkey
// config = [{
//   "initDataTypes": ["cenc"],
//   "audioCapabilities": [{
//     "contentType": "audio/mp4;codecs=\"mp4a.40.2\""
//   }],
//   "videoCapabilities": [{
//     "contentType": "video/mp4;codecs=\"avc1.42E01E\""
//   }]
// }];

var p = document.getElementById("p"); 

try {
  navigator.
  requestMIDIAccess({sysex: true}).
  then(function(midi) {
    console.log('midi support ok', midi);
	p.innerHTML = 'midi support ok';
  }).catch(function(e) {
    p.innerHTML = 'no midi support, rejected';
    console.log('no midi support, rejected');
    console.log(e);
  });
} catch (e) {
  p.innerHTML = 'no midi support caught exception';
  console.log('no midi support caught exception');
  console.log(e);
}

// try {
//   navigator.
//   requestMediaKeySystemAccess("org.w3.clearkey",config).
//   then(function(mediaKeySystemAccess) {
//     console.log('clearkey support ok', mediaKeySystemAccess);
//   }).catch(function(e) {
//     console.log('no clearkey support');
//     console.log(e);
//   });
// } catch (e) {
//   console.log('no clearkey support');
//   console.log(e);
// }

//////////

</script>
</body>
</html>